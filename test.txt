============================= test session starts ==============================
platform linux -- Python 3.13.5, pytest-8.4.2, pluggy-1.6.0 -- /home/pannet1/py/finvasia/bin/python3
cachedir: .pytest_cache
rootdir: /home/pannet1/py/finvasia/super-ai
configfile: pytest.ini
collecting ... collected 2 items

tests/test_compress_candles.py::test_compress_candles_daily_ohlc PASSED  [ 50%]
tests/test_symbol.py::test_symbol_creation FAILED                        [100%]

=================================== FAILURES ===================================
_____________________________ test_symbol_creation _____________________________

    def test_symbol_creation():
>       sym = Symbol(
            base="SENSEX",
            symbol="BSXOPT",
            option_exchange="BFO",
            moneyness=-1,
            expiry="05-AUG-2025",
            quantity=20,
            rest_min=2,
            diff=100,
            index="BSE Sensex",
            exchange="BSE",
            token="1",
            depth=10,
            atm=81000,
        )

tests/test_symbol.py:7: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <src.sdk.symbol.Symbol object at 0x7bf9e7015550>, args = ()
kwargs = {'atm': 81000, 'base': 'SENSEX', 'depth': 10, 'diff': 100, ...}
cls = <class 'src.sdk.symbol.Symbol'>

    def _no_init_or_replace_init(self, *args, **kwargs):
        cls = type(self)
    
        if cls._is_protocol:
>           raise TypeError('Protocols cannot be instantiated')
E           TypeError: Protocols cannot be instantiated

/usr/lib/python3.13/typing.py:1948: TypeError
=========================== short test summary info ============================
FAILED tests/test_symbol.py::test_symbol_creation - TypeError: Protocols cann...
========================= 1 failed, 1 passed in 0.63s ==========================
